<!--voter_analytics/search.html-->
<!--Aidan Xu (axu26@bu.edu), 10/30/25-->
<!--The form to search for specific voters.-->

<form method="GET">
    <h3>Search</h3>
    <table>
        <tr>
            <td><label for="party">Party Affiliation: </label></td>
            <td><select id="party" name="party">
                <option value=""></option>
                <!--go through all possible parties as options-->
                {% for party in parties %}
                    <!--scriptlet checks if we already have it in request, reselect it-->
                    <option value="{{party}}" 
                    {% if party == request.GET.party %}selected{% endif %}>
                        {{party}}
                    </option>
                {% endfor %}
            </select></td>
        </tr>
        <tr>
            <td><label for="min_birth">Minimum Birth Year: </label></td>
            <td><select id="min_birth" name="min_birth">
                <option value=""></option>
                <!--go through all possible years as options-->
                {% for year in years %}
                    <!--scriptlet checks if we already have it in request, reselect it-->
                    <option value="{{year}}"
                    {% if year|stringformat:"s" == request.GET.min_birth %}selected{% endif %}>
                        {{year}}
                    </option>
                {% endfor %}
            </select></td>
        </tr>
        <tr>
            <td><label for="max_birth">Maximum Birth Year: </label></td>
            <td><select id="max_birth" name="max_birth">
                <option value=""></option>
                <!--go through all possible years as options-->
                {% for year in years %}
                    <!--scriptlet checks if we already have it in request, reselect it-->
                    <option value="{{year}}"
                    {% if year|stringformat:"s" == request.GET.max_birth %}selected{% endif %}>
                        {{year}}
                    </option>
                {% endfor %}
            </select></td>
        </tr>
        <tr>
            <td><label for="score">Voting Score: </label></td>
            <td><select id="score" name="score">
                <option value=""></option>
                <!--go through all possible scores as options-->
                {% for score in scores %}
                    <!--scriptlet checks if we already have it in request, reselect it-->
                    <option value="{{score}}"
                    {% if score|stringformat:"s" == request.GET.score %}selected{% endif %}>
                        {{score}}
                    </option>
                {% endfor %}
            </select></td>
        </tr>
    </table>
    <br>
    <table>
        <tr>
            <td><label for="v20state">v20state</label></td>
            <!--scriptlet checks if we already have it in request, reselect it-->
            <td><input type="checkbox" id="v20state" name="v20state"
                {% if request.GET.v20state %}checked{% endif %}></td>
        </tr>
        <tr>
            <td><label for="v21town">v21town</label></td>
            <!--scriptlet checks if we already have it in request, reselect it-->
            <td><input type="checkbox" id="v21town" name="v21town"
                {% if request.GET.v21town %}checked{% endif %}></td>
        </tr>
        <tr>
            <td><label for="v21primary">v21primary</label></td>
            <!--scriptlet checks if we already have it in request, reselect it-->
            <td><input type="checkbox" id="v21primary" name="v21primary"
                {% if request.GET.v21primary %}checked{% endif %}></td>
        </tr>
        <tr>
            <td><label for="v22general">v22general</label></td>
            <!--scriptlet checks if we already have it in request, reselect it-->
            <td><input type="checkbox" id="v22general" name="v22general"
                {% if request.GET.v22general %}checked{% endif %}></td>
        </tr>
        <tr>
            <td><label for="v23town">v23town</label></td>
            <!--scriptlet checks if we already have it in request, reselect it-->
            <td><input type="checkbox" id="v23town" name="v23town"
                {% if request.GET.v23town %}checked{% endif %}></td>
        </tr>
    </table>
    <br>
    <input type="submit">
</form>